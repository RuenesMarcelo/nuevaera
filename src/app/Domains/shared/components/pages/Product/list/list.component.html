

<div class="bg-light-blue py-4">
  <div class="row align-items-center">
    <div class="row justify-content-end">
      <div class="col-lg-5">
        <div class="form-group d-flex alig  n-items-stretch">
          <input
            type="search"
            class="form-control h-100"
            placeholder="Ingresa el producto que buscas"
            [(ngModel)]="searchTerm"
            (input)="onSearchChange()" />
        </div>
      </div>
    </div>
  </div>
</div>
<div class="right-container">
  <button [routerLink]="['/add']" *ngIf="authService.isAdmin()" class="add-btn"
    aria-label="Agregar">+</button>
</div>

<section id="blog-posts-2" class="blog-posts-2 section">
  <div class="container">
    <div class="row gy-4 gx-0 ">
      <p><strong>{{ categoryName() }}</strong></p>
      @for (product of paginatedProducts(); track product) {
      <div class="col-lg-3 ">
        <app-product [product]="product"></app-product>
      </div>
      }
    </div>
  </div>
</section>

<div class="pagination mt-4 d-flex gap-2 justify-content-center">

  <!-- anterior -->
  <button (click)="goToPage(page() - 1)" [disabled]="page() === 1">
    ⟵
  </button>

  <!-- solo 3 botones -->
  @for (p of visiblePages(); track p) {
    <button
      (click)="goToPage(p)"
      [class.active]="page() === p">
      {{ p }}
    </button>
  }

  <!-- siguiente -->
  <button (click)="goToPage(page() + 1)" [disabled]="page() === totalPages()">
    ⟶
  </button>

</div>
