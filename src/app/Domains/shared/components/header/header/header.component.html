
<link href="https://fonts.googleapis.com" rel="preconnect">
<link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
<link
  href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Marcellus:wght@400&display=swap"
  rel="stylesheet">

<div class="index-page">
  <header id="header"
    class="header d-flex align-items-center position-relative">
    <div
      class="container-fluid container-xl position-relative d-flex align-items-center justify-content-between">

      <a routerLink="/" class="logo d-flex align-items-center">
        <img src="assets/img/logo_qne.JPG">
      </a>

      <nav id="navmenu" class="navmenu" (click)="closeMobileNavOnLink($event)">
        <ul>
          <li>
            <a routerLink="/" routerLinkActive="underline">Inicio</a></li>
          <li><a [routerLink]="['/']" fragment="services"
              routerLinkActive="underline">
              Nuestros servicios
            </a>

          </li>
          <li class="dropdown">
            <a routerLink="/list" routerLinkActive="underline">
              <span>Que estas buscando?</span>
              <i class="bi bi-chevron-down"
                (click)="toggleDropdown($event)"></i>
            </a>
            <ul class="dropdown-menu-custom">
              <a [routerLink]="['/list']"> Todos los productos</a>
              @for (category of categories(); track category) {
              <a [routerLink]="['/list']"
                [queryParams]="{ category_id: category.idCategoria }">
                {{ category.nombre }}
              </a>
              }
            </ul>
          </li>

          <li>
            <a [routerLink]="['/']" fragment="contactus"
              routerLinkActive="underline">
              Contactanos
            </a>
          </li>
          <div>
            <li *ngIf="!authService.itsAuthenticated()" class="nav-item">
              <a routerLink="/log" routerLinkActive="underline"
                class="d-block text-decoration-underline-hover bi bi-person">
              </a>
            </li>
          </div>
          <div>
            <li *ngIf="authService.itsAuthenticated()" class="dropdown">
              <a routerLinkActive="underline">
                <i class="bi bi-person" style="font-size: 1.2rem;"></i>
                <!-- icono más grande -->
                <span>{{ authService.getUsernameFromToken() }}</span>
                <i class="bi bi-chevron-down"
                  (click)="toggleDropdown($event)"></i>
              </a>
              <ul class="dropdown-menu-custom">
                <a routerLink="/perfil">perfil</a>
                <a>Usuarios</a>
                <li role="none">
                  <a
                    type="button"
                    role="menuitem"
                    class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center gap-2"
                    (click)="handleLogout($event)">
                    Cerrar sesión
                  </a>
                </li>
              </ul>
            </li>
          </div>
        </ul>
        <i class="mobile-nav-toggle d-xl-none"
          [ngClass]="isMobileNavOpen() ? 'bi-x' : 'bi-list'"
          (click)="toggleMobileNav()">
        </i>
      </nav>
    </div>
  </header>
</div>